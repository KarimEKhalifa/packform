{"remainingRequest":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/babel-loader/lib/index.js!/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/karimkhalifa/Desktop/Packform/frontend/src/views/Orders.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/src/views/Orders.vue","mtime":1594565304796},{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRhYmxlIGZyb20gIi4vLi4vY29tcG9uZW50cy9UYWJsZS52dWUiOwppbXBvcnQgRGF0ZVBpY2tlciBmcm9tICIuLy4uL2NvbXBvbmVudHMvRGF0ZVBpY2tlciI7CmltcG9ydCBTZWFyY2hCYXIgZnJvbSAiLi8uLi9jb21wb25lbnRzL1NlYXJjaEJhciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiT3JkZXJzIiwKICBjb21wb25lbnRzOiB7CiAgICBEYXRlUGlja2VyOiBEYXRlUGlja2VyLAogICAgVGFibGU6IFRhYmxlLAogICAgU2VhcmNoQmFyOiBTZWFyY2hCYXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURhdGE6IHVuZGVmaW5lZCwKICAgICAgbm9TZWFyY2g6IDAsCiAgICAgIHN0YXJ0RGF0ZTogIiIsCiAgICAgIGVuZERhdGU6ICIiLAogICAgICBwYWdlOiAwLAogICAgICBzZWFyY2hTdHJpbmc6ICIiLAogICAgICBiYXNlVVJJOiAiaHR0cDovL2xvY2FsaG9zdDo4MDAwIiwKICAgICAgaW5Vc2VVUkk6ICJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL29yZGVycy8iLAogICAgICBjb25maWc6IFt7CiAgICAgICAga2V5OiAib3JkZXJfbmFtZSIsCiAgICAgICAgdGl0bGU6ICJPcmRlciBOYW1lIiwKICAgICAgICB0eXBlOiAidGV4dCIKICAgICAgfSwgewogICAgICAgIGtleTogImN1c3RvbWVyX2NvbXBhbnlfbmFtZSIsCiAgICAgICAgdGl0bGU6ICJDb21wYW55IE5hbWUiLAogICAgICAgIHR5cGU6ICJ0ZXh0IgogICAgICB9LCB7CiAgICAgICAga2V5OiAiY3VzdG9tZXJfbmFtZSIsCiAgICAgICAgdGl0bGU6ICJDdXN0b21lciBOYW1lIiwKICAgICAgICB0eXBlOiAidGV4dCIKICAgICAgfSwgewogICAgICAgIGtleTogIm9yZGVyX2RhdGUiLAogICAgICAgIHRpdGxlOiAiT3JkZXIgRGF0ZSIsCiAgICAgICAgdHlwZTogImRhdGUiCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJkZWxpdmVyZWRfYW1vdW50IiwKICAgICAgICB0aXRsZTogIkRlbGl2ZXJlZCBBbW91bnQiLAogICAgICAgIHR5cGU6ICJjdXJyZW5jeSIKICAgICAgfSwgewogICAgICAgIGtleTogInRvdGFsX2Ftb3VudCIsCiAgICAgICAgdGl0bGU6ICJUb3RhbCBBbW91bnQiLAogICAgICAgIHR5cGU6ICJjdXJyZW5jeSIKICAgICAgfV0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MuZ2V0KHRoaXMuaW5Vc2VVUkkgKyB0aGlzLnBhZ2UpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBfdGhpcy50YWJsZURhdGEgPSBkYXRhOwoKICAgICAgICBpZiAoX3RoaXMubm9TZWFyY2ggPT0gMCkgewogICAgICAgICAgX3RoaXMuZW5kRGF0ZSA9IF90aGlzLnN0YXJ0RGF0ZSA9IGRhdGFbMF1bIm9yZGVyX2RhdGUiXS5zcGxpdCgiVCIpWzBdOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMubm9TZWFyY2ggKz0gMTsKICAgICAgfSk7CiAgICB9LAogICAgb25TZWFyY2hDaGFuZ2U6IGZ1bmN0aW9uIG9uU2VhcmNoQ2hhbmdlKHZhbHVlKSB7CiAgICAgIHRoaXMuc2VhcmNoU3RyaW5nID0gdmFsdWU7CiAgICAgIHRoaXMuc2VhcmNoKCk7CiAgICB9LAogICAgb25EYXRlQ2hhbmdlOiBmdW5jdGlvbiBvbkRhdGVDaGFuZ2UodmFsdWUpIHsKICAgICAgdmFyIHN0YXJ0ID0gdmFsdWUuc3RhcnQudG9Mb2NhbGVEYXRlU3RyaW5nKCkuc3BsaXQoIi8iKS5yZXZlcnNlKCkuam9pbigiLSIpOwogICAgICB2YXIgZW5kID0gdmFsdWUuZW5kLnRvTG9jYWxlRGF0ZVN0cmluZygpLnNwbGl0KCIvIikucmV2ZXJzZSgpLmpvaW4oIi0iKTsKCiAgICAgIGlmIChzdGFydCAhPSB0aGlzLnN0YXJ0RGF0ZSB8fCBlbmQgIT0gdGhpcy5lbmREYXRlKSB7CiAgICAgICAgdGhpcy5zdGFydERhdGUgPSBzdGFydDsKICAgICAgICB0aGlzLmVuZERhdGUgPSBlbmQ7CiAgICAgICAgdGhpcy5pblVzZVVSSSA9IHRoaXMuYmFzZVVSSSArICIvYXBpL29yZGVycy9iZXR3ZWVuLyIgKyB0aGlzLnN0YXJ0RGF0ZSArICIvIiArIHRoaXMuZW5kRGF0ZSArICIvIjsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmluVXNlVVJJKTsKICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKCkgewogICAgICB0aGlzLnBhZ2UgPSAwOwoKICAgICAgaWYgKHRoaXMuc2VhcmNoU3RyaW5nLnRyaW0oKSAhPT0gIiIgJiYgdGhpcy5zdGFydERhdGUgIT09IHRoaXMuZW5kRGF0ZSkgewogICAgICAgIHRoaXMuaW5Vc2VVUkkgPSB0aGlzLmJhc2VVUkkgKyAiL2FwaS9vcmRlcnMvc2VhcmNoX2JldHdlZW4vIiArIHRoaXMuc2VhcmNoU3RyaW5nICsgIi8iICsgdGhpcy5zdGFydERhdGUgKyAiLyIgKyB0aGlzLmVuZERhdGUgKyAiLyI7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2hTdHJpbmcudHJpbSgpID09PSAiIiAmJiB0aGlzLnN0YXJ0RGF0ZSA9PT0gdGhpcy5lbmREYXRlKSB7CiAgICAgICAgdGhpcy5pblVzZVVSSSA9IHRoaXMuYmFzZVVSSSArICIvYXBpL29yZGVycy8iOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW5Vc2VVUkkgPSB0aGlzLmJhc2VVUkkgKyAiYXBpL29yZGVycy8iICsgdGhpcy5zZWFyY2hTdHJpbmcgKyAiLyI7CiAgICAgIH0KCiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["Orders.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"app\">\n    <h1>Welcome to orders!</h1>\n    <div style=\"display: flex; width: 500px; padding-bottom: 1vw; right: 0px;\">\n      <h2 style=\"margin: inherit; padding-right: 1vw;\">Choose date range </h2>\n        <DatePicker v-if=\"startDate\" :key=\"noSearch\" :start=\"startDate\" :end=\"endDate\" v-on:childToParent=\"onDateChange\" />\n    </div>\n    <div style=\"display:flex;\">\n      <h2 style=\"margin: inherit; padding-right: 1vw;\">Search </h2>\n        <SearchBar  v-on:childToParent=\"onSearchChange\" />\n    </div>\n    <Table v-if=\"tableData\" :URI=\"inUseURI\" :key=\"noSearch\" :myData=\"tableData\" :config=\"config\" />\n  </div>\n</template>\n\n<script>\nimport Table from \"./../components/Table.vue\";\nimport DatePicker from \"./../components/DatePicker\";\nimport SearchBar from \"./../components/SearchBar\";\n\nexport default {\n  name: \"Orders\",\n  components: {\n    DatePicker,\n    Table,\n    SearchBar\n  },\n  data: () => ({\n    tableData: undefined,\n    noSearch: 0,\n    startDate: \"\",\n    endDate: \"\",\n    page: 0,\n    searchString: \"\",\n    baseURI: \"http://localhost:8000\" ,\n    inUseURI:\"http://localhost:8000/api/orders/\",\n    config: [\n      {\n        key: \"order_name\",\n        title: \"Order Name\",\n        type: \"text\"\n      },\n      {\n        key: \"customer_company_name\",\n        title: \"Company Name\",\n        type: \"text\"\n      },\n      {\n        key: \"customer_name\",\n        title: \"Customer Name\",\n        type: \"text\"\n      },\n      {\n        key: \"order_date\",\n        title: \"Order Date\",\n        type: \"date\"\n      },\n      {\n        key: \"delivered_amount\",\n        title: \"Delivered Amount\",\n        type: \"currency\"\n      },\n      {\n        key: \"total_amount\",\n        title: \"Total Amount\",\n        type: \"currency\"\n      }\n    ]\n  }),\n  methods: {\n    getData: function() {\n      this.$axios.get(this.inUseURI + this.page).then(({ data }) => {\n        this.tableData = data;\n        if(this.noSearch == 0){\n        this.endDate = this.startDate = data[0][\"order_date\"].split(\"T\")[0]\n        }\n        this.noSearch += 1;\n      });\n    },\n    onSearchChange: function(value) {\n      this.searchString = value;\n      this.search();\n    },\n    onDateChange: function(value) {\n      var start = value.start\n        .toLocaleDateString()\n        .split(\"/\")\n        .reverse()\n        .join(\"-\");\n      var end = value.end\n        .toLocaleDateString()\n        .split(\"/\")\n        .reverse()\n        .join(\"-\");\n\n        if(start!= this.startDate || end != this.endDate){\n            this.startDate = start\n            this.endDate = end\n            this.inUseURI = this.baseURI+\"/api/orders/between/\" + this.startDate +\"/\"+this.endDate+ \"/\";\n            console.log(this.inUseURI)\n            this.getData()\n        }  \n    },\n    search: function() {\n      this.page = 0;\n      if(this.searchString.trim() !== \"\" && this.startDate!==this.endDate){\n        this.inUseURI = this.baseURI+\"/api/orders/search_between/\" + this.searchString + \"/\"+ this.startDate +\"/\"+this.endDate+ \"/\";\n      }else if (this.searchString.trim() === \"\" && this.startDate===this.endDate) {\n        this.inUseURI = this.baseURI+\"/api/orders/\";\n      } else {\n        this.inUseURI = this.baseURI+\"api/orders/\" + this.searchString + \"/\";\n      }\n      this.getData();\n    }\n  },\n  mounted() {\n    this.getData();\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n"],"sourceRoot":"src/views"}]}