{"remainingRequest":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/karimkhalifa/Desktop/Packform/packform-frontend/src/components/Table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/src/components/Table.vue","mtime":1594464075853},{"path":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBwcm9wczogWydteURhdGEnLCdjb25maWcnXSwKICAgIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHBhZ2U6IDAsCiAgICAgICAgICAgIHRhYmxlRGF0YTogdGhpcy5teURhdGEsCiAgICAgICAgICAgIGRpc2FibGVOZXh0OiBmYWxzZSwKICAgICAgICAgICAgZGlzYWJsZVByZXY6IHRydWUsCiAgICAgICAgICAgIGluVXNlVVJJOiAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS9vcmRlcnMvIiwKICAgICAgICB9CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBzZWFyY2g6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRoaXMucGFnZSA9IDAKICAgICAgICAgICAgdmFyIHNlYXJjaFN0cmluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hTdHJpbmciKS52YWx1ZS50cmltKCkKICAgICAgICAgICAgaWYoc2VhcmNoU3RyaW5nLnRyaW0oKSA9PT0gIiIpewogICAgICAgICAgICAgICAgdGhpcy5pblVzZVVSSSA9ICJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL29yZGVycy8iCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy5pblVzZVVSSSA9ICJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL29yZGVycy8iK3NlYXJjaFN0cmluZysiLyIKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRheGlvcy5nZXQodGhpcy5pblVzZVVSSSt0aGlzLnBhZ2UpCiAgICAgICAgICAgICAgICAudGhlbigoe2RhdGF9KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBkYXRhCiAgICAgICAgICAgICAgICAgICAgaWYoIGRhdGEubGVuZ3RoIDwgNSkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlTmV4dCA9IHRydWUKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBuZXh0OiBmdW5jdGlvbigpewogICAgICAgIHRoaXMuJGF4aW9zLmdldCh0aGlzLmluVXNlVVJJK3RoaXMucGFnZSsxKQogICAgICAgICAgICAudGhlbigoe2RhdGF9KSA9PiB7CiAgICAgICAgICAgICAgICBpZihkYXRhKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGEKICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgKz0gMQogICAgICAgICAgICAgICAgICAgIGlmKCBkYXRhLmxlbmd0aCA8IDUpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZU5leHQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlUHJldiA9IGZhbHNlCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVOZXh0ID0gZmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHByZXY6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGlmKHRoaXMucGFnZSA+IDApCiAgICAgICAgdGhpcy4kYXhpb3MuZ2V0KHRoaXMuaW5Vc2VVUkkrKHRoaXMucGFnZS0xKSkKICAgICAgICAgICAgLnRoZW4oKHtkYXRhfSkgPT4gewogICAgICAgICAgICAgICAgaWYoIGRhdGEgJiYgdGhpcy5wYWdlID4gMCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBkYXRhCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlIC09IDEKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnBhZ2UgPT0gMCkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlUHJldiA9IHRydWUKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVOZXh0ID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gZGF0YS5yZWR1Y2UoKGEsIGIpID0+IGFbInRvdGFsX2Ftb3VudCJdICsgYlsidG90YWxfYW1vdW50Il0sIDApCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVQcmV2ID0gZmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn0KCgo="},{"version":3,"sources":["Table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Table.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div class=\"search-wrapper\">\n            <label>Search item: </label>\n            <input @keyup=\"search()\" id=\"searchString\" type=\"text\" placeholder=\"Search item..\"/>\n            <!-- <button @keyup=\"search()\"> search </button> -->\n        </div>\n        <div id=\"table\" style=\"height: 30vh\">\n            <table style=\"width:100%\">\n                <thead>\n                    <tr>\n                        <th v-for =\"(obj, ind) in config\" :key=\"ind\" > {{obj.title}} </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for =\"(row, index) in tableData\" :key=\"index\">\n                        <td v-for =\"(obj, ind) in config\" :key=\"ind\">\n                            <span v-if=\"obj.type === 'text'\"> {{row[obj.key]}} </span>\n                            <span v-if=\"obj.type === 'date'\"> \n                                {{new Date(row[obj.key]).toLocaleDateString('en-US',{month: 'short', day: 'numeric' })\n                                +\", \"+\n                                new Date(row[obj.key]).toLocaleTimeString('en-AU', { hour: '2-digit', minute: '2-digit' })}} \n                            </span>\n                            <span v-if=\"obj.type === 'currency'\">\n                                {{\"$\"+(parseFloat(row[obj.key])).toFixed(2)}} \n                            </span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <button id=\"prev\" :disabled=disablePrev @click=\"prev()\">Previous</button>\n        <button id=\"next\" :disabled=disableNext @click=\"next()\">Next</button>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    props: ['myData','config'],\n    data: function () {\n        return{\n            page: 0,\n            tableData: this.myData,\n            disableNext: false,\n            disablePrev: true,\n            inUseURI: \"http://localhost:8000/api/orders/\",\n        }\n    },\n\n    methods: {\n        search: function(){\n            this.page = 0\n            var searchString = document.getElementById(\"searchString\").value.trim()\n            if(searchString.trim() === \"\"){\n                this.inUseURI = \"http://localhost:8000/api/orders/\"\n            }else{\n                this.inUseURI = \"http://localhost:8000/api/orders/\"+searchString+\"/\"\n            }\n            this.$axios.get(this.inUseURI+this.page)\n                .then(({data}) => {\n                    this.tableData = data\n                    if( data.length < 5)\n                        this.disableNext = true\n                })\n        },\n        next: function(){\n        this.$axios.get(this.inUseURI+this.page+1)\n            .then(({data}) => {\n                if(data){\n                    this.tableData = data\n                    this.page += 1\n                    if( data.length < 5)\n                        this.disableNext = true\n                    this.disablePrev = false\n                }else{\n                    this.disableNext = false\n                }\n            })\n        },\n        prev: function(){\n            if(this.page > 0)\n        this.$axios.get(this.inUseURI+(this.page-1))\n            .then(({data}) => {\n                if( data && this.page > 0){\n                    this.tableData = data\n                    this.page -= 1\n                    if(this.page == 0)\n                        this.disablePrev = true\n                    this.disableNext = false\n                    this.total = data.reduce((a, b) => a[\"total_amount\"] + b[\"total_amount\"], 0)\n                }else{\n                    this.disablePrev = false\n                }\n            })\n        }\n    }\n}\n\n\n</script>\n\n<style lang=\"css\" scoped>\n\n\n</style>"]}]}