{"remainingRequest":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/karimkhalifa/Desktop/Packform/frontend/src/components/Table.vue?vue&type=style&index=0&id=783f90ce&lang=css&scoped=true&","dependencies":[{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/src/components/Table.vue","mtime":1594563653756},{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29udHJvbHMgewogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgcGFkZGluZzogOHB4IDE2cHg7Cn0KCi5jb250cm9sczpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDsKICBjb2xvcjogYmxhY2s7Cn0KCgo="},{"version":3,"sources":["Table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Table.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div id=\"table\" style=\"height: 30vh\">\n            <table style=\"width:100%\">\n                <thead>\n                    <tr>\n                        <th v-for =\"(obj, ind) in config\" :key=\"ind\" > {{obj.title}} </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for =\"(row, index) in tableData\" :key=\"index\">\n                        <td v-for =\"(obj, ind) in config\" :key=\"ind\">\n                            <span v-if=\"obj.type === 'text'\"> {{row[obj.key]}} </span>\n                            <span v-if=\"obj.type === 'date'\"> \n                                {{new Date(row[obj.key]).toLocaleDateString('en-US',{month: 'short', day: 'numeric' })\n                                +\", \"+\n                                new Date(row[obj.key]).toLocaleTimeString('en-AU', { hour: '2-digit', minute: '2-digit' })}} \n                            </span>\n                            <span v-if=\"obj.type === 'currency'\">\n                                {{\"$\"+(parseFloat(row[obj.key])).toFixed(2)}} \n                            </span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <button id=\"prev\" class=\"controls\" :disabled=disablePrev @click=\"prev()\">&#8249;</button>\n        <button id=\"next\" class=\"controls\" :disabled=disableNext @click=\"next()\">&#8250;</button>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'Table',\n    props: ['myData','config', 'URI'],\n    data: function () {\n        return{\n            page: 0,\n            tableData: this.myData,\n            inUseURI: this.URI,\n            disableNext: false,\n            disablePrev: true,\n        }\n    },\n\n    methods: {\n        next: function(){\n        this.$axios.get(this.inUseURI+this.page+1)\n            .then(({data}) => {\n                if(data.length > 0){\n                    console.log(data)\n                    this.tableData = data\n                    this.page += 1\n                    if( data.length < 5)\n                        this.disableNext = true\n                    this.disablePrev = false\n                }else{\n                    this.disableNext = true\n                }\n            })\n        },\n        prev: function(){\n            if(this.page > 0)\n        this.$axios.get(this.inUseURI+(this.page-1))\n            .then(({data}) => {\n                if( data && this.page > 0){\n                    this.tableData = data\n                    this.page -= 1\n                    if(this.page == 0)\n                        this.disablePrev = true\n                    this.disableNext = false\n                    this.total = data.reduce((a, b) => a[\"total_amount\"] + b[\"total_amount\"], 0)\n                }else{\n                    this.disablePrev = false\n                }\n            })\n        }\n    }\n}\n\n\n</script>\n\n<style lang=\"css\" scoped>\n\n.controls {\n  text-decoration: none;\n  display: inline-block;\n  padding: 8px 16px;\n}\n\n.controls:hover {\n  background-color: #ddd;\n  color: black;\n}\n\n\n</style>"]}]}