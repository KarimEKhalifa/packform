{"remainingRequest":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/karimkhalifa/Desktop/Packform/packform-frontend/src/components/Table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/src/components/Table.vue","mtime":1594563653756},{"path":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karimkhalifa/Desktop/Packform/packform-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnVGFibGUnLAogICAgcHJvcHM6IFsnbXlEYXRhJywnY29uZmlnJywgJ1VSSSddLAogICAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgcGFnZTogMCwKICAgICAgICAgICAgdGFibGVEYXRhOiB0aGlzLm15RGF0YSwKICAgICAgICAgICAgaW5Vc2VVUkk6IHRoaXMuVVJJLAogICAgICAgICAgICBkaXNhYmxlTmV4dDogZmFsc2UsCiAgICAgICAgICAgIGRpc2FibGVQcmV2OiB0cnVlLAogICAgICAgIH0KICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIG5leHQ6IGZ1bmN0aW9uKCl7CiAgICAgICAgdGhpcy4kYXhpb3MuZ2V0KHRoaXMuaW5Vc2VVUkkrdGhpcy5wYWdlKzEpCiAgICAgICAgICAgIC50aGVuKCh7ZGF0YX0pID0+IHsKICAgICAgICAgICAgICAgIGlmKGRhdGEubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSkKICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGEKICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgKz0gMQogICAgICAgICAgICAgICAgICAgIGlmKCBkYXRhLmxlbmd0aCA8IDUpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZU5leHQgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlUHJldiA9IGZhbHNlCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVOZXh0ID0gdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcHJldjogZnVuY3Rpb24oKXsKICAgICAgICAgICAgaWYodGhpcy5wYWdlID4gMCkKICAgICAgICB0aGlzLiRheGlvcy5nZXQodGhpcy5pblVzZVVSSSsodGhpcy5wYWdlLTEpKQogICAgICAgICAgICAudGhlbigoe2RhdGF9KSA9PiB7CiAgICAgICAgICAgICAgICBpZiggZGF0YSAmJiB0aGlzLnBhZ2UgPiAwKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGEKICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgLT0gMQogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucGFnZSA9PSAwKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVQcmV2ID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZU5leHQgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSBkYXRhLnJlZHVjZSgoYSwgYikgPT4gYVsidG90YWxfYW1vdW50Il0gKyBiWyJ0b3RhbF9hbW91bnQiXSwgMCkKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZVByZXYgPSBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQoKCg=="},{"version":3,"sources":["Table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Table.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div id=\"table\" style=\"height: 30vh\">\n            <table style=\"width:100%\">\n                <thead>\n                    <tr>\n                        <th v-for =\"(obj, ind) in config\" :key=\"ind\" > {{obj.title}} </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for =\"(row, index) in tableData\" :key=\"index\">\n                        <td v-for =\"(obj, ind) in config\" :key=\"ind\">\n                            <span v-if=\"obj.type === 'text'\"> {{row[obj.key]}} </span>\n                            <span v-if=\"obj.type === 'date'\"> \n                                {{new Date(row[obj.key]).toLocaleDateString('en-US',{month: 'short', day: 'numeric' })\n                                +\", \"+\n                                new Date(row[obj.key]).toLocaleTimeString('en-AU', { hour: '2-digit', minute: '2-digit' })}} \n                            </span>\n                            <span v-if=\"obj.type === 'currency'\">\n                                {{\"$\"+(parseFloat(row[obj.key])).toFixed(2)}} \n                            </span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <button id=\"prev\" class=\"controls\" :disabled=disablePrev @click=\"prev()\">&#8249;</button>\n        <button id=\"next\" class=\"controls\" :disabled=disableNext @click=\"next()\">&#8250;</button>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'Table',\n    props: ['myData','config', 'URI'],\n    data: function () {\n        return{\n            page: 0,\n            tableData: this.myData,\n            inUseURI: this.URI,\n            disableNext: false,\n            disablePrev: true,\n        }\n    },\n\n    methods: {\n        next: function(){\n        this.$axios.get(this.inUseURI+this.page+1)\n            .then(({data}) => {\n                if(data.length > 0){\n                    console.log(data)\n                    this.tableData = data\n                    this.page += 1\n                    if( data.length < 5)\n                        this.disableNext = true\n                    this.disablePrev = false\n                }else{\n                    this.disableNext = true\n                }\n            })\n        },\n        prev: function(){\n            if(this.page > 0)\n        this.$axios.get(this.inUseURI+(this.page-1))\n            .then(({data}) => {\n                if( data && this.page > 0){\n                    this.tableData = data\n                    this.page -= 1\n                    if(this.page == 0)\n                        this.disablePrev = true\n                    this.disableNext = false\n                    this.total = data.reduce((a, b) => a[\"total_amount\"] + b[\"total_amount\"], 0)\n                }else{\n                    this.disablePrev = false\n                }\n            })\n        }\n    }\n}\n\n\n</script>\n\n<style lang=\"css\" scoped>\n\n.controls {\n  text-decoration: none;\n  display: inline-block;\n  padding: 8px 16px;\n}\n\n.controls:hover {\n  background-color: #ddd;\n  color: black;\n}\n\n\n</style>"]}]}